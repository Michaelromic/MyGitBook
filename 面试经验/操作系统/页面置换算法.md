# 页面置换算法 
进程从内存中获取某一页的时候，如果内存中没有即是缺页，需要调用页面置换算法用目标页将某个页面置换出来。为了减小缺页率，需要选择更优秀的算法

1. 最佳置换算法OPT：选择那些不再使用或者最长时间不再使用的页。
由于无法预知内存中哪些页不再使用，或者最长时间不再使用，因此该算法是无法实现的。
2. 先进先出FIFO：总是淘汰最先进入内存的页（即在内存时间中待得最久）。
3. 最近最久未使用算法LRU:最近一段时间里最久没有使用过的页面予以置换.
4. clock算法（也称NRU算法，最近未使用算法，近似于LRU算法）：
    + 该算法在页表中设置访问字段A和修改位M，当页面被访问(读或写)时设置访问位A为1，当修改后的页面被写入时设置修改位M为1。
    + 所以，A和M有四种可能：
        1. A = 0,M = 0.最近未被访问，也没有被修改（是最佳的置换页面）
        2. A = 0,M = 1.最近未被访问，但是被修改过
        3. A = 1,M = 0.最近被访问过，但是未被修改
        4. A = 1,M = 1.最近被访问过，也被修改过（所以该页很可能再次被访问）
    
    + 用A位和M位来构造一个简单的页面置换算法：
    当启动一个进程时，它的所有页面的两个位都由操作系统设置成0，A位被定期地（比如在每次时钟中断时）清零，以区别最近没有被访问的页面和被访问的页面。

    + 具体做法：
        1. 将内存中的所有页面用指针链接成一个循环队列
        2. 从指针所指的位置，扫描循环队列，找的是 A = 0,M = 0的页，遇到便淘汰。第一次扫描期间不改变其访问位。
        3. 如果第一次扫描没有找到，那么找 A = 0,M = 1的页面，遇到则淘汰，第二次扫描期间，所经历的页，访问位修改为0。
        4. 重复 2和3，一定能找到 A = 0,M = 0 或者 A = 0，M = 1的页面